2025-11-04 10:03:41.148 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE pbi.product_id = ?
2025-11-04 10:03:41.178 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - ==> Parameters: B0FFSRKCRD(String)
2025-11-04 10:03:41.213 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - <==      Total: 1
2025-11-04 10:09:52.054 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE pbi.product_id = ?
2025-11-04 10:09:52.055 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - ==> Parameters: P10001(String)
2025-11-04 10:09:52.057 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - <==      Total: 1
2025-11-04 10:12:46.102 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==>  Preparing: SELECT pbi.product_id, pbi.title, pbi.brand, pbi.platform, pbi.product_url, pbi.main_image_url, pbi.selling_points, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, prr.rating, prr.reviews_count, prr.match_percentage, pi.availability, pct.badges, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id ORDER BY pbi.updated_at DESC LIMIT ?, ?
2025-11-04 10:12:46.102 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==> Parameters: 0(Integer), 20(Integer)
2025-11-04 10:12:46.115 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - <==      Total: 10
2025-11-04 10:16:53.108 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id ORDER BY pbi.updated_at DESC LIMIT ?, ?
2025-11-04 10:16:53.131 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==> Parameters: 0(Integer), 20(Integer)
2025-11-04 10:16:53.165 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - <==      Total: 10
2025-11-04 10:17:14.863 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id ORDER BY pbi.updated_at DESC LIMIT ?, ?
2025-11-04 10:17:14.864 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==> Parameters: 0(Integer), 20(Integer)
2025-11-04 10:17:14.878 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - <==      Total: 10
2025-11-04 10:17:21.489 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 10:17:21.489 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 20(Integer)
2025-11-04 10:17:21.493 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 10
2025-11-04 10:17:24.213 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 10:17:24.214 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 10:17:24.216 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 10:17:36.741 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getProductsByPlatform - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE pbi.platform = ? ORDER BY pbi.updated_at DESC
2025-11-04 10:17:36.742 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getProductsByPlatform - ==> Parameters: amazon(String)
2025-11-04 10:17:36.745 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getProductsByPlatform - <==      Total: 6
2025-11-04 10:17:49.266 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTotalProductCount - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info
2025-11-04 10:17:49.266 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTotalProductCount - ==> Parameters: 
2025-11-04 10:17:49.271 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTotalProductCount - <==      Total: 1
2025-11-04 10:23:16.225 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getProductsByPriceRange - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE pp.current_price BETWEEN ? AND ? ORDER BY pp.current_price ASC
2025-11-04 10:23:16.225 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getProductsByPriceRange - ==> Parameters: 10.0(Double), 1000.0(Double)
2025-11-04 10:23:16.254 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getProductsByPriceRange - <==      Total: 3
2025-11-04 10:45:56.240 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductsByPriceRange - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE pp.current_price BETWEEN ? AND ? ORDER BY pp.current_price ASC
2025-11-04 10:45:56.256 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductsByPriceRange - ==> Parameters: 10.0(Double), 1000.0(Double)
2025-11-04 10:45:56.275 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductsByPriceRange - <==      Total: 3
2025-11-04 11:19:23.489 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 11:19:23.490 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 11:19:23.496 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 11:27:17.270 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveBlindBoxes - ==>  Preparing: SELECT * FROM blind_box WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 11:27:17.301 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveBlindBoxes - ==> Parameters: 
2025-11-04 11:27:17.332 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveBlindBoxes - <==      Total: 3
2025-11-04 11:30:02.024 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 11:30:02.027 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 11:30:02.034 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 11:38:22.657 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveBlindBoxes - ==>  Preparing: SELECT * FROM blind_box WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 11:38:22.658 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveBlindBoxes - ==> Parameters: 
2025-11-04 11:38:58.135 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 11:38:58.149 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 11:38:58.167 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 4
2025-11-04 11:38:58.188 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.category_name as categoryName, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:38:58.190 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 20.00(BigDecimal), 66.67(BigDecimal), 12(Integer)
2025-11-04 11:41:06.674 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 11:41:06.691 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 11:41:06.709 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 4
2025-11-04 11:41:06.726 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:41:06.727 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 20.00(BigDecimal), 66.67(BigDecimal), 15(Integer)
2025-11-04 11:41:06.743 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:41:06.744 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:41:06.745 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 17.50(BigDecimal), 43.33(BigDecimal), 9(Integer)
2025-11-04 11:41:06.746 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:41:06.747 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:41:06.747 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 13.33(BigDecimal), 37.50(BigDecimal), 12(Integer)
2025-11-04 11:41:06.748 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:41:06.749 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:41:06.749 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Beauty & Personal Care(String), 10.00(BigDecimal), 50.00(BigDecimal), 9(Integer)
2025-11-04 11:41:06.750 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:42:32.104 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 11:42:32.105 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 11:42:32.107 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 4
2025-11-04 11:42:32.107 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:42:32.108 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 20.00(BigDecimal), 66.67(BigDecimal), 15(Integer)
2025-11-04 11:42:32.109 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:42:32.109 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:42:32.110 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 17.50(BigDecimal), 43.33(BigDecimal), 9(Integer)
2025-11-04 11:42:32.111 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:42:32.111 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:42:32.111 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 13.33(BigDecimal), 37.50(BigDecimal), 15(Integer)
2025-11-04 11:42:32.113 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:42:32.114 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:42:32.114 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Beauty & Personal Care(String), 10.00(BigDecimal), 50.00(BigDecimal), 9(Integer)
2025-11-04 11:42:32.115 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:01:01.257 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:01:01.258 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:01:01.261 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:01:01.263 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:01:01.264 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 14:01:01.268 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:01:01.280 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:01:01.280 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 12(Integer)
2025-11-04 14:01:01.284 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:01:01.286 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:01:01.287 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 办公设备(String), 1333.33(BigDecimal), 5000.00(BigDecimal), 9(Integer)
2025-11-04 14:01:01.288 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:01:01.289 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:01:01.290 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 穿戴设备(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 14:01:01.291 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:01:01.293 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:01:01.294 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 14:01:01.296 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:07:18.538 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:07:18.540 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:07:18.568 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:07:18.571 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:07:18.580 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 12(Integer)
2025-11-04 14:07:18.588 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:07:18.590 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:07:18.600 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 14:07:18.608 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:07:18.611 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:07:18.623 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 办公设备(String), 1333.33(BigDecimal), 5000.00(BigDecimal), 6(Integer)
2025-11-04 14:07:18.625 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:07:18.629 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:07:18.638 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 穿戴设备(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 14:07:18.641 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:07:18.645 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:07:18.654 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 14:07:18.656 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:14:11.158 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:14:11.158 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:14:11.159 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:14:11.160 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:14:11.160 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 12(Integer)
2025-11-04 14:14:11.167 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:14:11.168 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:14:11.168 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 14:14:11.170 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:14:11.170 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:14:11.171 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 办公设备(String), 1333.33(BigDecimal), 5000.00(BigDecimal), 6(Integer)
2025-11-04 14:14:11.172 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:14:11.172 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:14:11.173 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 穿戴设备(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 14:14:11.174 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:14:11.175 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:14:11.175 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 14:14:11.176 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:15:32.732 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:15:32.733 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:15:32.735 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:15:32.736 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:32.737 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 14:15:32.740 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:15:32.741 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:32.741 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 12(Integer)
2025-11-04 14:15:32.743 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:15:32.745 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:32.746 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 1333.33(BigDecimal), 5000.00(BigDecimal), 9(Integer)
2025-11-04 14:15:32.747 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:15:32.749 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:32.750 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 14:15:32.752 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:15:32.753 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:32.754 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 14:15:32.755 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:15:40.854 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:15:40.854 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:15:40.855 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:15:40.856 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:40.857 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 14:15:40.858 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:15:40.859 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:40.860 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 14:15:40.861 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:15:40.862 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:40.862 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 1333.33(BigDecimal), 5000.00(BigDecimal), 6(Integer)
2025-11-04 14:15:40.863 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:15:40.863 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:40.864 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 14:15:40.865 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:15:40.865 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:40.865 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 14:15:40.867 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:17:31.214 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:17:31.215 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:17:31.217 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:17:31.218 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:17:31.219 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 14:17:31.221 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:17:31.222 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:17:31.222 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 14:17:31.225 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:17:31.227 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:17:31.228 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 1333.33(BigDecimal), 5000.00(BigDecimal), 6(Integer)
2025-11-04 14:17:31.230 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:17:31.231 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:17:31.233 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 14:17:31.234 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:17:31.235 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:17:31.235 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 14:17:31.236 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:18:27.627 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:18:27.627 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:18:27.627 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:18:27.628 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:18:27.629 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 12(Integer)
2025-11-04 14:18:27.631 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:18:27.632 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:18:27.632 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 14:18:27.633 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:18:27.633 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:18:27.634 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 14:18:27.635 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 14:18:27.635 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:18:27.635 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 14:18:27.636 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:18:27.636 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:18:27.636 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 14:18:27.637 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:20:10.107 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:20:10.107 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:20:10.108 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:20:10.109 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:20:10.110 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 14:20:10.111 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 14:20:10.112 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:20:10.113 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 14:20:10.114 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:20:10.114 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:20:10.115 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 14:20:10.116 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 14:20:10.117 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:20:10.118 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 14:20:10.118 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:20:10.119 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:20:10.119 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 14:20:10.120 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:24:59.276 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 14:24:59.277 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 14:24:59.280 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 14:32:17.042 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 14:32:17.043 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 14:32:17.045 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 14:36:32.549 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE pbi.product_id = ?
2025-11-04 14:36:32.549 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - ==> Parameters: P10001(String)
2025-11-04 14:36:32.551 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - <==      Total: 1
2025-11-04 14:36:44.546 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id ORDER BY pbi.updated_at DESC LIMIT ?, ?
2025-11-04 14:36:44.546 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==> Parameters: 0(Integer), 20(Integer)
2025-11-04 14:36:44.556 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - <==      Total: 10
2025-11-04 14:37:17.262 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 14:37:17.263 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 14:37:17.265 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 14:38:01.632 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:38:01.632 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:38:01.633 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:38:01.634 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:38:01.635 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 12(Integer)
2025-11-04 14:38:01.636 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 14:38:01.637 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:38:01.637 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 14:38:01.638 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:38:01.638 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:38:01.638 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 14:38:01.639 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 14:38:01.639 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:38:01.640 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 14:38:01.640 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:38:01.641 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:38:01.641 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 14:38:01.642 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:38:41.873 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 14:38:41.873 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 14:38:41.875 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 14:38:47.692 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 14:38:47.693 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 14:38:47.696 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 14:38:57.647 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 14:38:57.647 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 14:38:57.649 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 14:39:58.840 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.BlindBoxMapper.getRuleById - ==>  Preparing: SELECT * FROM blind_box_rule WHERE rule_id = ?
2025-11-04 14:39:58.840 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.BlindBoxMapper.getRuleById - ==> Parameters: RULE_TEC001(String)
2025-11-04 14:39:58.842 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.BlindBoxMapper.getRuleById - <==      Total: 1
2025-11-04 14:39:58.843 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:39:58.844 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 14:39:58.845 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 14:40:49.636 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 14:40:49.636 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 14:40:49.638 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 14:40:50.394 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 14:40:50.394 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 14:40:50.396 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 14:41:15.622 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 14:41:15.623 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 14:41:15.626 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 14:41:16.391 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 14:41:16.392 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 14:41:16.393 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 14:41:42.313 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 14:41:42.313 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 14:41:42.315 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 14:41:43.509 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 14:41:43.510 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 14:41:43.511 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:07:33.853 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:07:33.853 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:07:33.857 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:20:13.519 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:20:13.520 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:20:13.525 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:20:14.624 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:20:14.625 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:20:14.628 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:20:16.501 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:20:16.501 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:20:16.504 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:20:17.707 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:20:17.707 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:20:17.711 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:20:20.385 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:20:20.386 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:20:20.387 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:20:20.500 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:20:20.501 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:20:20.504 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:20:54.394 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:20:54.394 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:20:54.396 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:20:59.398 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:20:59.400 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:20:59.402 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:22:07.813 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:22:07.813 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:22:07.815 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:22:08.427 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:22:08.427 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:22:08.429 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:25:21.789 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, img.main_image_url, img.image_urls, des.product_description, des.selling_points, des.specifications, des.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, mat.match_percentage, mat.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.category_name, cat.product_type, cat.target_audience, bdg.badges, bdg.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_images img ON p.product_id = img.product_id LEFT JOIN product_description des ON p.product_id = des.product_id LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_match_info mat ON p.product_id = mat.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id LEFT JOIN product_badges_tags bdg ON p.product_id = bdg.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET ?
2025-11-04 15:25:21.807 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 10(Integer), 0(Integer)
2025-11-04 15:28:32.119 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:28:32.119 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.BlindBoxMapper.getRuleById - ==>  Preparing: SELECT * FROM blind_box_rule WHERE rule_id = ?
2025-11-04 15:28:32.140 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.BlindBoxMapper.getRuleById - ==> Parameters: RULE_TEC001(String)
2025-11-04 15:28:32.140 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:28:32.165 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.BlindBoxMapper.getRuleById - <==      Total: 1
2025-11-04 15:28:32.167 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:28:32.186 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:28:32.187 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 15:28:32.191 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 15:28:32.244 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET ?
2025-11-04 15:28:32.245 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 10(Integer), 0(Integer)
2025-11-04 15:28:32.250 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 15:28:32.251 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.countQueryProducts - ==>  Preparing: SELECT COUNT(DISTINCT p.id) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 15:28:32.251 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.countQueryProducts - ==> Parameters: 
2025-11-04 15:28:32.254 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.countQueryProducts - <==      Total: 1
2025-11-04 15:39:32.347 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:39:32.348 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:39:32.350 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.amorproduct.mapper.BlindBoxMapper.getRuleById - ==>  Preparing: SELECT * FROM blind_box_rule WHERE rule_id = ?
2025-11-04 15:39:32.350 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.amorproduct.mapper.BlindBoxMapper.getRuleById - ==> Parameters: RULE_TEC001(String)
2025-11-04 15:39:32.352 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.amorproduct.mapper.BlindBoxMapper.getRuleById - <==      Total: 1
2025-11-04 15:39:32.352 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:39:32.353 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 15:39:32.355 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 15:39:32.361 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:39:32.626 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.amorproduct.mapper.BlindBoxMapper.getRuleById - ==>  Preparing: SELECT * FROM blind_box_rule WHERE rule_id = ?
2025-11-04 15:39:32.627 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:39:32.627 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.amorproduct.mapper.BlindBoxMapper.getRuleById - ==> Parameters: RULE_TEC001(String)
2025-11-04 15:39:32.627 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:39:32.628 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.amorproduct.mapper.BlindBoxMapper.getRuleById - <==      Total: 1
2025-11-04 15:39:32.628 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:39:32.628 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 15:39:32.630 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 15:39:32.630 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:41:51.452 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 15:41:51.452 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:41:51.452 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 15:41:51.452 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:41:51.454 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 15:41:51.454 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:41:51.455 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:41:51.455 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 15:41:51.456 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 15:41:51.457 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:41:51.458 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 15:41:51.459 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:41:51.460 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:41:51.461 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 15:41:51.463 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 15:41:51.464 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:41:51.465 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 15:41:51.466 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:41:51.467 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:41:51.467 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 15:41:51.468 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:41:51.533 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 15:41:51.533 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 15:41:51.533 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:41:51.533 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:41:51.534 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 15:41:51.536 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:41:51.536 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:41:51.536 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 15:41:51.540 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 15:41:51.541 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:41:51.541 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 12(Integer)
2025-11-04 15:41:51.542 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:41:51.543 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:41:51.543 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 15:41:51.545 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 15:41:51.546 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:41:51.546 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 15:41:51.547 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:41:51.547 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:41:51.548 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 15:41:51.549 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:42:01.751 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 15:42:01.751 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 15:42:01.752 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:42:01.753 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:42:01.755 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:42:01.757 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 15:42:01.759 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:42:01.760 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 15:42:01.762 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 15:42:01.763 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:42:01.763 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 15:42:01.765 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:42:01.765 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:42:01.766 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 15:42:01.767 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 15:42:01.768 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:42:01.768 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 15:42:01.769 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:42:01.770 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:42:01.771 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 15:42:01.772 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:50:09.587 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:50:09.587 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 15:50:09.587 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 15:50:09.587 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:50:09.589 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 15:50:09.590 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:50:09.590 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:09.591 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 12(Integer)
2025-11-04 15:50:09.592 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 15:50:09.593 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:09.594 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 15:50:09.595 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:50:09.596 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:09.596 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 15:50:09.597 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 15:50:09.598 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:09.598 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 15:50:09.600 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:50:09.601 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:09.601 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 15:50:09.603 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:50:10.359 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 15:50:10.359 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:50:10.359 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 15:50:10.359 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:50:10.361 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 15:50:10.361 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:50:10.362 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:10.363 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 15:50:10.365 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 15:50:10.368 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:10.368 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 12(Integer)
2025-11-04 15:50:10.371 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:50:10.372 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:10.374 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 15:50:10.378 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 15:50:10.379 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:10.380 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 15:50:10.384 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:50:10.385 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:10.386 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 15:50:10.389 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:50:12.179 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 15:50:12.180 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 15:50:12.180 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 15:50:12.180 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 15:50:12.181 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 15:50:12.181 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:12.182 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 15:50:12.182 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 15:50:12.183 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 15:50:12.184 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:12.184 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 15:50:12.185 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:50:12.186 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:12.186 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 15:50:12.188 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 15:50:12.188 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:12.189 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 15:50:12.190 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 15:50:12.190 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 15:50:12.191 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 15:50:12.192 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:09:57.232 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 16:09:57.232 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 16:09:57.276 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 16:09:57.276 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 16:09:57.316 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 16:09:57.317 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 16:09:57.351 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:09:57.352 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 16:09:57.362 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 16:09:57.366 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:09:57.367 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 16:09:57.369 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:09:57.370 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:09:57.376 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 16:09:57.380 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 16:09:57.383 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:09:57.384 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 16:09:57.386 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:09:57.388 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:09:57.389 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 16:09:57.394 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:12:46.081 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 16:12:46.082 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 16:12:46.082 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 16:12:46.083 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 16:12:46.084 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 16:12:46.086 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:12:46.086 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 16:12:46.087 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 16:12:46.089 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 16:12:46.092 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:12:46.093 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 16:12:46.094 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:12:46.095 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:12:46.096 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 16:12:46.099 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 16:12:46.100 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:12:46.101 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 16:12:46.102 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:12:46.103 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:12:46.103 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 16:12:46.105 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:24:35.048 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 16:24:35.049 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 16:24:35.052 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 16:24:35.054 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 16:24:35.055 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 16:24:35.056 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:24:35.058 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 16:24:35.061 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 16:24:35.077 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 16:24:35.080 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:24:35.081 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 12(Integer)
2025-11-04 16:24:35.083 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:24:35.087 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:24:35.090 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 16:24:35.093 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 16:24:35.095 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:24:35.096 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 16:24:35.098 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:24:35.102 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:24:35.103 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 16:24:35.106 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:25:24.958 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 16:25:24.959 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 16:25:24.959 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 16:25:24.959 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 16:25:24.961 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 16:25:24.965 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 16:25:24.966 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:25:24.967 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 16:25:24.970 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 16:25:24.972 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:25:24.973 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 16:25:24.974 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:25:24.976 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:25:24.976 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 16:25:24.980 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 16:25:24.982 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:25:24.983 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 16:25:24.985 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:25:24.986 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:25:24.986 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 16:25:24.988 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:27:09.404 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 16:27:09.404 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 16:27:09.405 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 16:27:09.406 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 16:27:09.408 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 16:27:09.408 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 16:27:09.409 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:09.409 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 16:27:09.411 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 16:27:09.412 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:09.413 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 16:27:09.415 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:27:09.415 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:09.416 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 16:27:09.425 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 16:27:09.425 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:09.426 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 16:27:09.427 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:27:09.428 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:09.429 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 16:27:09.430 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:27:10.352 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 16:27:10.352 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 16:27:10.352 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 16:27:10.353 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 16:27:10.355 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 16:27:10.355 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:10.357 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 16:27:10.360 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 16:27:10.362 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:10.362 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 16:27:10.365 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:27:10.366 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:10.367 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 16:27:10.367 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 16:27:10.372 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 16:27:10.374 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:10.375 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 16:27:10.377 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:27:10.378 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:10.378 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 16:27:10.380 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:27:31.586 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 16:27:31.601 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 16:27:31.617 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 16:27:31.634 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:31.635 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 16:27:31.640 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 16:27:31.643 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:31.643 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 16:27:31.644 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:27:31.645 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:31.646 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 16:27:31.647 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 16:27:31.648 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:31.648 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 16:27:31.649 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:27:31.650 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:31.650 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 16:27:31.651 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:27:44.050 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 16:27:44.050 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 16:27:44.052 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 16:27:44.052 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:44.053 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 12(Integer)
2025-11-04 16:27:44.054 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 16:27:44.055 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:44.055 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 16:27:44.056 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:27:44.056 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:44.057 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 16:27:44.058 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 16:27:44.059 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:44.059 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 16:27:44.060 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:27:44.061 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 16:27:44.061 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 16:27:44.062 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 16:29:35.843 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 16:29:35.863 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 
2025-11-04 16:29:35.886 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 16:29:46.958 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.title LIKE CONCAT('%', ?, '%')
2025-11-04 16:29:46.959 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 123(String)
2025-11-04 16:29:46.961 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 0
2025-11-04 16:29:59.421 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.title LIKE CONCAT('%', ?, '%')
2025-11-04 16:29:59.421 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: Samsung Galaxy S24 Ultra(String)
2025-11-04 16:29:59.422 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 1
2025-11-04 17:00:33.736 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.title LIKE CONCAT('%', ?, '%')
2025-11-04 17:00:33.755 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: Samsung Galaxy S24 Ultra(String)
2025-11-04 17:00:33.777 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 1
2025-11-04 17:00:55.972 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.title LIKE CONCAT('%', ?, '%')
2025-11-04 17:00:55.973 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: Samsung Galaxy S24 Ultra(String)
2025-11-04 17:00:55.975 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 1
2025-11-04 17:04:40.469 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:04:40.469 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:04:40.471 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:04:40.471 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:04:40.474 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:04:40.478 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:04:40.479 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:04:40.482 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 17:04:40.488 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:04:40.495 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:04:40.495 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 17:04:40.497 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:04:40.498 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:04:40.499 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 17:04:40.500 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:04:40.501 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:04:40.501 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 17:04:40.503 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:04:40.503 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:04:40.504 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 17:04:40.505 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:09:12.656 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:09:12.657 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 30(Integer)
2025-11-04 17:09:12.658 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:09:12.659 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:09:12.664 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:09:12.666 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:12.667 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 12(Integer)
2025-11-04 17:09:12.672 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 10
2025-11-04 17:09:12.672 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:09:12.674 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:12.674 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 17:09:12.676 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:09:12.677 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:12.678 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 17:09:12.681 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:09:12.683 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:12.684 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 17:09:12.686 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:09:12.687 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:12.688 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 17:09:12.692 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:09:13.376 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:09:13.377 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 30(Integer)
2025-11-04 17:09:13.379 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:09:13.379 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:09:13.381 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:09:13.382 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:13.383 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 17:09:13.385 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:09:13.387 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:13.387 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 17:09:13.389 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 10
2025-11-04 17:09:13.389 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:09:13.389 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:13.390 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 17:09:13.393 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:09:13.394 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:13.395 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 17:09:13.396 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:09:13.397 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:13.398 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 17:09:13.399 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:09:23.586 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:09:23.586 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:09:23.586 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:09:23.586 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:09:23.588 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:09:23.590 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:09:23.591 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:23.592 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 12(Integer)
2025-11-04 17:09:23.594 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:09:23.595 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:23.595 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 12(Integer)
2025-11-04 17:09:23.597 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:09:23.598 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:23.598 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 17:09:23.599 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:09:23.600 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:23.601 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 17:09:23.602 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:09:23.603 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:23.604 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 17:09:23.605 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:09:24.376 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:09:24.376 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:09:24.376 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:09:24.377 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:09:24.378 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:09:24.378 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:09:24.379 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:24.380 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 12(Integer)
2025-11-04 17:09:24.382 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:09:24.383 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:24.384 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 17:09:24.385 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:09:24.386 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:24.387 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 17:09:24.389 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:09:24.390 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:24.391 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 17:09:24.392 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:09:24.393 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:09:24.394 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 17:09:24.395 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:11:27.967 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:11:27.967 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:11:27.967 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:11:27.967 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:11:27.969 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:11:27.971 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:11:27.971 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:11:27.972 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 17:11:27.974 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:11:27.975 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:11:27.975 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 17:11:27.976 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:11:27.976 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:11:27.977 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 17:11:27.978 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:11:27.978 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:11:27.978 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 17:11:27.979 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:11:27.980 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:11:27.980 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 17:11:27.981 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:11:28.440 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:11:28.440 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:11:28.440 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:11:28.441 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:11:28.442 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:11:28.442 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:11:28.442 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:11:28.443 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 17:11:28.444 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:11:28.445 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:11:28.445 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 17:11:28.446 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:11:28.446 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:11:28.447 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 17:11:28.448 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:11:28.449 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:11:28.449 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 17:11:28.450 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:11:28.451 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:11:28.451 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 17:11:28.452 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:12:07.329 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:12:07.329 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:12:07.330 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:12:07.330 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:12:07.331 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:12:07.331 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:12:07.332 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 17:12:07.332 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:12:07.333 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:12:07.333 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:12:07.333 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 17:12:07.334 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:12:07.334 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:12:07.334 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 17:12:07.335 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:12:07.336 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:12:07.336 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 17:12:07.337 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:12:07.337 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:12:07.338 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 17:12:07.339 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:12:08.357 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:12:08.358 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:12:08.358 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:12:08.358 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:12:08.359 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:12:08.360 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:12:08.360 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:12:08.360 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 17:12:08.361 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:12:08.362 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:12:08.362 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 12(Integer)
2025-11-04 17:12:08.363 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:12:08.363 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:12:08.363 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 17:12:08.364 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:12:08.364 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:12:08.365 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 17:12:08.365 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:12:08.366 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:12:08.366 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 17:12:08.366 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:13:22.343 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:13:22.343 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:13:22.343 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:13:22.344 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:13:22.345 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:13:22.346 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:22.346 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:13:22.346 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 17:13:22.346 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:13:22.346 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:13:22.347 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:13:22.347 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:13:22.347 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:22.348 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 17:13:22.348 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:13:22.349 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:13:22.349 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:13:22.349 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:22.349 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 17:13:22.349 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:13:22.350 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:22.350 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:13:22.350 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 17:13:22.350 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:22.351 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 17:13:22.351 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:13:22.352 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:13:22.352 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:22.352 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:22.352 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 17:13:22.352 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 17:13:22.353 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:13:22.353 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:13:22.353 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:22.353 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 17:13:22.354 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:13:22.355 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:22.355 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 17:13:22.356 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:13:22.356 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:22.356 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 17:13:22.357 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:13:23.331 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:13:23.332 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:13:23.333 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:13:23.341 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:13:23.341 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:13:23.341 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:13:23.342 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:23.342 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 17:13:23.343 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:13:23.343 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:23.343 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 17:13:23.344 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:13:23.344 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:23.344 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 17:13:23.345 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:13:23.346 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:23.346 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 17:13:23.347 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:13:23.347 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:23.348 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 17:13:23.348 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:13:25.667 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:13:25.667 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:13:25.667 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:13:25.667 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:13:25.668 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:13:25.668 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:25.668 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 17:13:25.669 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:13:25.669 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:13:25.670 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:25.670 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 17:13:25.671 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:13:25.671 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:25.672 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 17:13:25.673 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:13:25.673 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:25.673 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 17:13:25.674 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:13:25.674 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:13:25.674 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 17:13:25.675 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:21:29.221 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC
2025-11-04 17:21:29.248 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 
2025-11-04 17:21:29.287 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:21:31.286 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC
2025-11-04 17:21:31.287 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 
2025-11-04 17:21:31.303 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:22:43.192 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC
2025-11-04 17:22:43.208 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 
2025-11-04 17:22:43.228 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:23:21.494 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC
2025-11-04 17:23:21.494 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 
2025-11-04 17:23:21.504 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:32:26.933 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET 0
2025-11-04 17:32:26.951 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 3(Integer)
2025-11-04 17:32:26.971 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 3
2025-11-04 17:32:26.976 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:32:26.976 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:32:26.978 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:32:36.081 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET 0
2025-11-04 17:32:36.082 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 3(Integer)
2025-11-04 17:32:36.084 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 3
2025-11-04 17:32:36.086 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:32:36.087 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:32:36.089 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:32:46.060 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET 0
2025-11-04 17:32:46.060 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 20(Integer)
2025-11-04 17:32:46.068 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:32:46.068 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:32:46.068 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:32:46.069 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:33:01.915 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:33:01.915 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:33:01.917 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:33:01.917 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:33:01.918 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:33:01.919 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:33:01.920 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 17:33:01.920 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:33:01.922 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:33:01.926 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:33:01.926 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 12(Integer)
2025-11-04 17:33:01.927 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:33:01.928 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:33:01.929 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 9(Integer)
2025-11-04 17:33:01.931 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:33:01.931 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:33:01.932 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 17:33:01.933 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:33:01.933 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:33:01.934 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 17:33:01.935 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:33:09.830 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 17:33:09.830 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 17:33:09.832 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:33:09.833 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 17:33:09.833 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:33:09.833 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:33:09.834 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 12(Integer)
2025-11-04 17:33:09.836 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:33:09.837 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 17:33:09.841 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:33:09.841 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 17:33:09.843 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:33:09.845 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:33:09.845 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 17:33:09.848 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 17:33:09.849 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:33:09.850 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 17:33:09.851 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:33:09.852 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 17:33:09.852 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 17:33:09.854 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 17:33:30.613 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET 0
2025-11-04 17:33:30.613 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 20(Integer)
2025-11-04 17:33:30.615 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:33:30.616 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:33:30.616 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:33:30.617 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:33:34.627 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET 0
2025-11-04 17:33:34.628 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 20(Integer)
2025-11-04 17:33:34.630 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:33:34.631 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:33:34.631 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:33:34.631 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:33:42.207 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET 0
2025-11-04 17:33:42.207 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 20(Integer)
2025-11-04 17:33:42.209 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:33:42.210 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:33:42.210 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:33:42.211 [http-nio-0.0.0.0-8081-exec-10] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:34:12.815 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET 0
2025-11-04 17:34:12.816 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 20(Integer)
2025-11-04 17:34:12.817 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:34:12.818 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:34:12.818 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:34:12.818 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:34:18.927 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET 0
2025-11-04 17:34:18.927 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 20(Integer)
2025-11-04 17:34:18.929 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:34:18.932 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:34:18.932 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:34:18.933 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:35:09.900 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET 0
2025-11-04 17:35:09.914 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 20(Integer)
2025-11-04 17:35:09.942 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:37:58.729 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:37:58.736 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:37:58.738 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:40:32.927 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET 0
2025-11-04 17:40:32.958 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 20(Integer)
2025-11-04 17:40:33.016 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:40:33.028 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:40:33.028 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:40:33.036 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:40:42.696 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET 0
2025-11-04 17:40:42.697 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 3(Integer)
2025-11-04 17:40:42.700 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 3
2025-11-04 17:40:42.702 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:40:42.702 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:40:42.704 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:40:55.754 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id ORDER BY p.created_at DESC LIMIT ? OFFSET 0
2025-11-04 17:40:55.754 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 3(Integer)
2025-11-04 17:40:55.760 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 3
2025-11-04 17:40:55.761 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:40:55.761 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:40:55.762 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:46:15.004 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:46:15.022 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:46:15.042 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:46:15.068 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:46:15.068 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:46:15.070 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:48:11.839 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:48:11.859 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:48:11.881 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 17:48:27.175 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id LIMIT ? OFFSET 0
2025-11-04 17:48:27.175 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 10(Integer)
2025-11-04 17:48:27.184 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:48:27.186 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:48:27.186 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:48:27.191 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:51:23.276 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==>  Preparing: SELECT p.id, p.product_id, p.parent_product_id, p.title, p.brand, p.seller_id, p.seller_name, p.platform, p.product_url, p.status, p.main_image_url, p.image_urls, p.product_description, p.selling_points, p.specifications, p.quick_buy_url, pr.current_price, pr.original_price, pr.currency, pr.discount_percentage, pr.discount_amount, pr.unit_price, rv.rating, rv.reviews_count, rv.answered_questions, rv.best_sellers_rank, rv.category_rank, rv.category_name, rv.match_percentage, rv.recommendation_reason, inv.availability, inv.stock_quantity, inv.ships_from, inv.prime_eligible, inv.return_policy, cat.categories, cat.root_category, cat.subcategory, cat.product_type, cat.target_audience, cat.badges, cat.promotion_tags, p.created_at, p.updated_at FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id LIMIT ? OFFSET 0
2025-11-04 17:51:23.295 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - ==> Parameters: 10(Integer)
2025-11-04 17:51:23.319 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.queryProducts - <==      Total: 10
2025-11-04 17:51:23.324 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id
2025-11-04 17:51:23.324 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - ==> Parameters: 
2025-11-04 17:51:23.327 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.amorproduct.mapper.ProductMapper.countProducts - <==      Total: 1
2025-11-04 17:51:33.455 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:51:33.455 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 10(Integer)
2025-11-04 17:51:33.463 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 10
2025-11-04 17:52:38.802 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 17:52:38.804 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 17:52:38.806 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
