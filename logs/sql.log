2025-11-04 10:03:41.148 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE pbi.product_id = ?
2025-11-04 10:03:41.178 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - ==> Parameters: B0FFSRKCRD(String)
2025-11-04 10:03:41.213 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - <==      Total: 1
2025-11-04 10:09:52.054 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE pbi.product_id = ?
2025-11-04 10:09:52.055 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - ==> Parameters: P10001(String)
2025-11-04 10:09:52.057 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getProductFullInfoById - <==      Total: 1
2025-11-04 10:12:46.102 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==>  Preparing: SELECT pbi.product_id, pbi.title, pbi.brand, pbi.platform, pbi.product_url, pbi.main_image_url, pbi.selling_points, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, prr.rating, prr.reviews_count, prr.match_percentage, pi.availability, pct.badges, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id ORDER BY pbi.updated_at DESC LIMIT ?, ?
2025-11-04 10:12:46.102 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==> Parameters: 0(Integer), 20(Integer)
2025-11-04 10:12:46.115 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - <==      Total: 10
2025-11-04 10:16:53.108 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id ORDER BY pbi.updated_at DESC LIMIT ?, ?
2025-11-04 10:16:53.131 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==> Parameters: 0(Integer), 20(Integer)
2025-11-04 10:16:53.165 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - <==      Total: 10
2025-11-04 10:17:14.863 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id ORDER BY pbi.updated_at DESC LIMIT ?, ?
2025-11-04 10:17:14.864 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - ==> Parameters: 0(Integer), 20(Integer)
2025-11-04 10:17:14.878 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.ProductMapper.getProductsWithPagination - <==      Total: 10
2025-11-04 10:17:21.489 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 10:17:21.489 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 20(Integer)
2025-11-04 10:17:21.493 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 10
2025-11-04 10:17:24.213 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 10:17:24.214 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 10:17:24.216 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 10:17:36.741 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getProductsByPlatform - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE pbi.platform = ? ORDER BY pbi.updated_at DESC
2025-11-04 10:17:36.742 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getProductsByPlatform - ==> Parameters: amazon(String)
2025-11-04 10:17:36.745 [http-nio-0.0.0.0-8081-exec-6] DEBUG c.e.a.mapper.ProductMapper.getProductsByPlatform - <==      Total: 6
2025-11-04 10:17:49.266 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTotalProductCount - ==>  Preparing: SELECT COUNT(*) FROM product_basic_info
2025-11-04 10:17:49.266 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTotalProductCount - ==> Parameters: 
2025-11-04 10:17:49.271 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.ProductMapper.getTotalProductCount - <==      Total: 1
2025-11-04 10:23:16.225 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getProductsByPriceRange - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE pp.current_price BETWEEN ? AND ? ORDER BY pp.current_price ASC
2025-11-04 10:23:16.225 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getProductsByPriceRange - ==> Parameters: 10.0(Double), 1000.0(Double)
2025-11-04 10:23:16.254 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.ProductMapper.getProductsByPriceRange - <==      Total: 3
2025-11-04 10:45:56.240 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductsByPriceRange - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE pp.current_price BETWEEN ? AND ? ORDER BY pp.current_price ASC
2025-11-04 10:45:56.256 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductsByPriceRange - ==> Parameters: 10.0(Double), 1000.0(Double)
2025-11-04 10:45:56.275 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.ProductMapper.getProductsByPriceRange - <==      Total: 3
2025-11-04 11:19:23.489 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 11:19:23.490 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 11:19:23.496 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 11:27:17.270 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveBlindBoxes - ==>  Preparing: SELECT * FROM blind_box WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 11:27:17.301 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveBlindBoxes - ==> Parameters: 
2025-11-04 11:27:17.332 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveBlindBoxes - <==      Total: 3
2025-11-04 11:30:02.024 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==>  Preparing: SELECT pbi.id, pbi.product_id, pbi.parent_product_id, pbi.title, pbi.brand, pbi.seller_id, pbi.seller_name, pbi.platform, pbi.product_url, pbi.status, pbi.main_image_url, pbi.image_urls, pbi.product_description, pbi.selling_points, pbi.specifications, pbi.quick_buy_url, pp.current_price, pp.original_price, pp.currency, pp.discount_percentage, pp.discount_amount, pp.unit_price, prr.rating, prr.reviews_count, prr.answered_questions, prr.best_sellers_rank, prr.category_rank, prr.category_name, prr.match_percentage, prr.recommendation_reason, pi.availability, pi.stock_quantity, pi.ships_from, pi.prime_eligible, pi.return_policy, pct.categories, pct.root_category, pct.subcategory, pct.product_type, pct.target_audience, pct.badges, pct.promotion_tags, pbi.created_at, pbi.updated_at FROM product_basic_info pbi LEFT JOIN product_pricing pp ON pbi.product_id = pp.product_id LEFT JOIN product_reviews_rank prr ON pbi.product_id = prr.product_id LEFT JOIN product_inventory pi ON pbi.product_id = pi.product_id LEFT JOIN product_category_tags pct ON pbi.product_id = pct.product_id WHERE prr.best_sellers_rank IS NOT NULL ORDER BY prr.best_sellers_rank ASC LIMIT ?
2025-11-04 11:30:02.027 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - ==> Parameters: 3(Integer)
2025-11-04 11:30:02.034 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.ProductMapper.getTopSellingProducts - <==      Total: 3
2025-11-04 11:38:22.657 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveBlindBoxes - ==>  Preparing: SELECT * FROM blind_box WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 11:38:22.658 [http-nio-0.0.0.0-8081-exec-8] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveBlindBoxes - ==> Parameters: 
2025-11-04 11:38:58.135 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 11:38:58.149 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 11:38:58.167 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 4
2025-11-04 11:38:58.188 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.category_name as categoryName, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:38:58.190 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 20.00(BigDecimal), 66.67(BigDecimal), 12(Integer)
2025-11-04 11:41:06.674 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 11:41:06.691 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 11:41:06.709 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 4
2025-11-04 11:41:06.726 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:41:06.727 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 20.00(BigDecimal), 66.67(BigDecimal), 15(Integer)
2025-11-04 11:41:06.743 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:41:06.744 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:41:06.745 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 17.50(BigDecimal), 43.33(BigDecimal), 9(Integer)
2025-11-04 11:41:06.746 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:41:06.747 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:41:06.747 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 13.33(BigDecimal), 37.50(BigDecimal), 12(Integer)
2025-11-04 11:41:06.748 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:41:06.749 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:41:06.749 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Beauty & Personal Care(String), 10.00(BigDecimal), 50.00(BigDecimal), 9(Integer)
2025-11-04 11:41:06.750 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:42:32.104 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 11:42:32.105 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 11:42:32.107 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 4
2025-11-04 11:42:32.107 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:42:32.108 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 20.00(BigDecimal), 66.67(BigDecimal), 15(Integer)
2025-11-04 11:42:32.109 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:42:32.109 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:42:32.110 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 17.50(BigDecimal), 43.33(BigDecimal), 9(Integer)
2025-11-04 11:42:32.111 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:42:32.111 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:42:32.111 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Health & Household(String), 13.33(BigDecimal), 37.50(BigDecimal), 15(Integer)
2025-11-04 11:42:32.113 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 11:42:32.114 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 11:42:32.114 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: Beauty & Personal Care(String), 10.00(BigDecimal), 50.00(BigDecimal), 9(Integer)
2025-11-04 11:42:32.115 [http-nio-0.0.0.0-8081-exec-3] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:01:01.257 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:01:01.258 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:01:01.261 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:01:01.263 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:01:01.264 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 14:01:01.268 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:01:01.280 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:01:01.280 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 12(Integer)
2025-11-04 14:01:01.284 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:01:01.286 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:01:01.287 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 办公设备(String), 1333.33(BigDecimal), 5000.00(BigDecimal), 9(Integer)
2025-11-04 14:01:01.288 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:01:01.289 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:01:01.290 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 穿戴设备(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 14:01:01.291 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:01:01.293 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:01:01.294 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 14:01:01.296 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:07:18.538 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:07:18.540 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:07:18.568 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:07:18.571 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:07:18.580 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 12(Integer)
2025-11-04 14:07:18.588 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:07:18.590 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:07:18.600 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 14:07:18.608 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:07:18.611 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:07:18.623 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 办公设备(String), 1333.33(BigDecimal), 5000.00(BigDecimal), 6(Integer)
2025-11-04 14:07:18.625 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:07:18.629 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:07:18.638 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 穿戴设备(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 14:07:18.641 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:07:18.645 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:07:18.654 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 14:07:18.656 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:14:11.158 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:14:11.158 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:14:11.159 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:14:11.160 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:14:11.160 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 12(Integer)
2025-11-04 14:14:11.167 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:14:11.168 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:14:11.168 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 14:14:11.170 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:14:11.170 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:14:11.171 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 办公设备(String), 1333.33(BigDecimal), 5000.00(BigDecimal), 6(Integer)
2025-11-04 14:14:11.172 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:14:11.172 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:14:11.173 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 穿戴设备(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 14:14:11.174 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:14:11.175 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:14:11.175 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 14:14:11.176 [http-nio-0.0.0.0-8081-exec-9] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:15:32.732 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:15:32.733 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:15:32.735 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:15:32.736 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:32.737 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 14:15:32.740 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:15:32.741 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:32.741 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 12(Integer)
2025-11-04 14:15:32.743 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:15:32.745 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:32.746 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 1333.33(BigDecimal), 5000.00(BigDecimal), 9(Integer)
2025-11-04 14:15:32.747 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:15:32.749 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:32.750 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 14:15:32.752 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:15:32.753 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:32.754 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 14:15:32.755 [http-nio-0.0.0.0-8081-exec-1] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:15:40.854 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:15:40.854 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:15:40.855 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:15:40.856 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:40.857 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 14:15:40.858 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:15:40.859 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:40.860 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 14:15:40.861 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:15:40.862 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:40.862 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 1333.33(BigDecimal), 5000.00(BigDecimal), 6(Integer)
2025-11-04 14:15:40.863 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:15:40.863 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:40.864 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 14:15:40.865 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:15:40.865 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:15:40.865 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 14:15:40.867 [http-nio-0.0.0.0-8081-exec-2] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:17:31.214 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:17:31.215 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:17:31.217 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:17:31.218 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:17:31.219 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 15(Integer)
2025-11-04 14:17:31.221 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:17:31.222 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:17:31.222 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 14:17:31.225 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:17:31.227 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:17:31.228 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 1333.33(BigDecimal), 5000.00(BigDecimal), 6(Integer)
2025-11-04 14:17:31.230 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:17:31.231 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:17:31.233 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 6(Integer)
2025-11-04 14:17:31.234 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:17:31.235 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:17:31.235 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 6(Integer)
2025-11-04 14:17:31.236 [http-nio-0.0.0.0-8081-exec-4] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:18:27.627 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:18:27.627 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:18:27.627 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:18:27.628 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:18:27.629 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 1000.00(BigDecimal), 4000.00(BigDecimal), 12(Integer)
2025-11-04 14:18:27.631 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 3
2025-11-04 14:18:27.632 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:18:27.632 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 750.00(BigDecimal), 3500.00(BigDecimal), 9(Integer)
2025-11-04 14:18:27.633 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 4
2025-11-04 14:18:27.633 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:18:27.634 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 14:18:27.635 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 14:18:27.635 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:18:27.635 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 14:18:27.636 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:18:27.636 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:18:27.636 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 14:18:27.637 [http-nio-0.0.0.0-8081-exec-5] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:20:10.107 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==>  Preparing: SELECT * FROM blind_box_rule WHERE status = 'ACTIVE' ORDER BY create_time DESC
2025-11-04 14:20:10.107 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - ==> Parameters: 
2025-11-04 14:20:10.108 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.mapper.BlindBoxMapper.getAllActiveRules - <==      Total: 5
2025-11-04 14:20:10.109 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:20:10.110 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1000.00(BigDecimal), 4000.00(BigDecimal), 9(Integer)
2025-11-04 14:20:10.111 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 1
2025-11-04 14:20:10.112 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.root_category = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:20:10.113 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 家用电器(String), 750.00(BigDecimal), 3500.00(BigDecimal), 6(Integer)
2025-11-04 14:20:10.114 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:20:10.114 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:20:10.115 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 手机(String), 133.33(BigDecimal), 50000.00(BigDecimal), 6(Integer)
2025-11-04 14:20:10.116 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 2
2025-11-04 14:20:10.117 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:20:10.118 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 耳机(String), 500.00(BigDecimal), 1500.00(BigDecimal), 9(Integer)
2025-11-04 14:20:10.118 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
2025-11-04 14:20:10.119 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==>  Preparing: SELECT p.id, p.product_id as productId, p.title, p.brand, p.main_image_url as mainImageUrl, p.status, pr.current_price as currentPrice, pr.original_price as originalPrice, pr.currency, pr.discount_percentage as discountPercentage, rv.rating, rv.reviews_count as reviewsCount, inv.availability, inv.prime_eligible as primeEligible, cat.root_category as rootCategory, cat.subcategory FROM product_basic_info p LEFT JOIN product_pricing pr ON p.product_id = pr.product_id LEFT JOIN product_reviews_rank rv ON p.product_id = rv.product_id LEFT JOIN product_inventory inv ON p.product_id = inv.product_id LEFT JOIN product_category_tags cat ON p.product_id = cat.product_id WHERE p.status = 'ACTIVE' AND cat.subcategory = ? AND pr.current_price >= ? AND pr.current_price <= ? ORDER BY RAND() LIMIT ?
2025-11-04 14:20:10.119 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - ==> Parameters: 游戏设备(String), 1333.33(BigDecimal), 3000.00(BigDecimal), 9(Integer)
2025-11-04 14:20:10.120 [http-nio-0.0.0.0-8081-exec-7] DEBUG c.e.a.m.BlindBoxMapper.getRandomProductsByCategory - <==      Total: 0
